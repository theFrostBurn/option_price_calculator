# 옵션 승수 기반 최소구입금액 계산기

단일 HTML 파일로 동작하는 옵션 계산기입니다. 종목(옵션 코드)을 선택하면 종목별 승수와 입력 단위를 자동 적용하고, 현재가 입력만으로 1계약 필요금액과 원화 환산 금액을 계산합니다. 수수료/목표가격 계산과 1계약 기준 손익 차트도 제공합니다.

## 파일 구성
- `option-calculator.html`: 앱 본체 (HTML/CSS/JS)
- `option_multipliers.md`: 승수 표(참고용). `PRODUCTS` 배열을 수정할 때 함께 업데이트하세요.
- `README.md`

## 실행 방법

### 1) 바로 열기
- `option-calculator.html`를 브라우저로 열어 사용합니다.

### 2) 환율 자동 불러오기를 쓰려면(권장)
브라우저 보안 정책에 따라 `file://`로 열었을 때 외부 `fetch()`가 막힐 수 있어 로컬 서버로 여는 것을 권장합니다.

- `python -m http.server 8000`
- `http://localhost:8000/option-calculator.html`

## 주요 기능
- 자산군별 종목 드롭다운
- 종목별 승수/입력 단위 자동 적용
- 국내 지수(KOSPI200/KOSPI200 미니/KOSDAQ150) 지원
- 현재가 입력 → 1계약 필요금액 및 KRW 환산
- 환율 자동 불러오기 + 6시간 캐시
- KRW 상품은 환율 적용 없이 원화로 계산
- 기본값 저장(localStorage)
- 수수료 자동 적용(국내 0.15%, 기타 2.49 통화)
- 수수료/목표가격 계산 및 손익 차트(Chart.js)

## 입력 규칙

### 채권(미국채 2/5/10/30년)
32분할 입력 지원:

- `110'16` → 110 + 16/32
- `110'16+` → 110 + 16.5/32
- `110-16` → 110 + 16/32 (레거시)
- `110 16/32` → 110 + 16/32
- `110.5` → 소수 입력도 허용

### 농산물(옥수수/대두/대두박/소맥)
입력 단위는 `￠/부셸`(센트/부셸)로 가정합니다.

- `450.25` → 소수 입력
- `450'2` → 450 + 2/8
- `450'25` → 450 + 25/100
- `450'250` → 450 + 250/1000
- `450 2/8` → 분수 입력

### 미국 개별주식 옵션
대부분 1계약이 100주 기준입니다.

- 프리미엄 `1.23` → 1계약 $123

## 환율 자동 불러오기
- 버튼: “환율 자동 불러오기”
- 대상 통화: USD/HKD 등
- KRW 상품은 환율 입력/조회 없음
- 캐시: 로컬 저장 + TTL 6시간
- 사용 API (순차 fallback):
  - `https://api.frankfurter.app/`
  - `https://open.er-api.com/`

> 외부 서비스 가용성/정책에 따라 실패할 수 있으며, 실패 시 수동 입력 가능합니다.

## 기본값 저장
“현재 값들을 기본값으로 저장” 버튼을 누르면 아래가 로컬 저장됩니다.

- 선택 종목
- 종목별 현재가 입력값
- 통화별 환율
- 목표 순이익(%)

## 개발 노트
- 별도 빌드/의존성 없이 정적 HTML로 구성되었습니다.
- 차트는 Chart.js CDN을 사용합니다(오프라인에서는 차트가 표시되지 않을 수 있음).
